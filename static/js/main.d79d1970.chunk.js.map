{"version":3,"sources":["logo.png","App.js","reportWebVitals.js","index.js"],"names":["App","useState","email","setEmail","senha","setSenha","loading","setLoading","auth","setAuth","token","setToken","setParams","setUser","handleSubmit","e","a","alert","axios","post","response","data","user","message","console","log","handleAceito","params","URLSearchParams","window","location","search","get","open","useEffect","className","src","logo","width","alt","target","href","onClick","value","onChange","name","type","required","placeholder","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d79d1970.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.fbeef7d5.png\";","import React, { useEffect, useState } from 'react'\nimport logo from './logo.png';\nimport './App.css';\nimport axios from 'axios'\nfunction App() {\n\n    const [email, setEmail] = useState('')\n    const [senha, setSenha] = useState('')\n\n    const [loading, setLoading] = useState(false)\n\n    const [auth, setAuth] = useState(false)\n    const [token, setToken] = useState(null)\n    const [params, setParams] = useState(null)\n    const [user, setUser] = useState({})\n\n    const handleSenha = (e) => {\n        setSenha(e.target.value)\n    }\n\n    const handleEmail = (e) => {\n        setEmail(e.target.value)\n    }\n\n    const handleSubmit = async (e) => {\n        try {\n\n            if (email === '') { alert('Email obritgatório'); return; }\n            if (senha === '') { alert('Senha obrigatória'); return; }\n\n            setLoading(true)\n            const response = await axios.post('https://mkcr9bfn2i.execute-api.sa-east-1.amazonaws.com/dev/auth/login', { email, senha })\n            const { data } = response.data\n\n            setToken(data.token)\n            setUser(data.user)\n\n            setAuth(true)\n            setLoading(false)\n\n        } catch (error) {\n            setLoading(false)\n            if (error.response.data.message) {\n                alert(error.response.data.message)\n            } else {\n                alert(error.message)\n            }\n            console.log(error.response)\n        }\n    }\n\n    const resetParams = () => {\n        setUser(null)\n        setAuth(false)\n        setParams(null)\n        setToken(null)\n        setEmail('')\n        setSenha('')\n    }\n\n    const handleCancela = () => {\n        resetParams()\n    }\n\n    const handleAceito = async () => {\n\n        try {\n\n            const params = new URLSearchParams(window.location.search)\n \n            if(params.get('client_id') !== 'bluedevx'){\n                alert('Integração incorreta')\n                return\n            }\n\n            //alert(`${params.get('redirect_uri')}/bluedevx-46b63?code=${token}&state=${params.get('state')}`)\n\n            window.open(`${params.get('redirect_uri')}/bluedevx-46b63?code=${token}&state=${params.get('state')}`, \"_blank\")\n\n        } catch (error) {\n            alert(error.message)\n            console.log(error.response)\n        }\n    }\n\n    useEffect(() => {\n\n        //return () => resetParams()\n    }, [])\n\n    return (\n        <div className=\"form\">\n            {loading &&\n                <div className=\"loading\">\n                    <div className=\"loading-rotulo text-white\">\n                        <div className=\"load-wrapp\">\n                            <div className=\"load-2\">\n                                <p>Processando</p>\n                                <div className=\"line\"></div>\n                                <div className=\"line\"></div>\n                                <div className=\"line\"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            }\n            {auth &&\n                <>\n                    <header className=\"form-header\">\n                        <img src={logo} width=\"70\" className=\"form-logo\" alt=\"logo\" />\n                        <p className=\"pt-3\">Conectando Bluedevx <br />com Google</p>\n                    </header>\n                    <div className=\"form-body\">\n                        <p>\n                            O Google solicita acesso à sua conta na Bluedevx e ao mapa de dispositivos que você possui.\n                            Assim você terá a possibilidade de acessá-los através dos comandos de voz e outros recursos.\n                        </p>\n                        <div className=\"my-4 text-small\">\n                            <p>Revise as <a target=\"_blank\" href=\"http://policies.google.com/\">políticas de privacidade do Google</a>. <br />\n                                Se você deseja desvincular sua conta, <a target=\"_blank\" href=\"https://myaccount.google.com/\">clique aqui</a>.</p>\n\n                        </div>\n                        <div className=\"form-group d-flex flex-row justify-content-between\">\n                            <button className=\"btn btn-light\" onClick={handleCancela}>Cancelar</button>\n                            <button className=\"btn btn-success\" onClick={handleAceito} >Aceitar e conectar</button>\n                        </div>\n                    </div>\n                </>\n            }\n\n            {!auth &&\n                <>\n                    <header className=\"form-header text-center\">\n                        <img src={logo} width=\"70\" className=\"form-logo\" alt=\"logo\" />\n                        <p className=\"p-10\">Entre com sua <br />conta Bluedevx</p>\n                    </header>\n                    <div className=\"form-body\">\n                        <div className=\"form-group\">\n                            <label className=\"label\">E-mail de Cadastro</label>\n                            <input className=\"form-control\" value={email} onChange={handleEmail} name=\"email\" type=\"email\" required={true} placeholder=\"E-mail\"></input>\n                        </div>\n                        <div className=\"form-group\">\n                            <label className=\"label\">Senha</label>\n                            <input className=\"form-control\" value={senha} onChange={handleSenha} type=\"password\" name=\"senha\" required={true} placeholder=\"**********\"></input>\n                        </div>\n                        <div className=\"form-group\">\n                            <button className=\"btn btn-theme\" onClick={handleSubmit} >Entrar</button>\n                        </div>\n                    </div>\n                </>\n            }\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}