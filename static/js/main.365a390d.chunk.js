(this["webpackJsonpauth-google"]=this["webpackJsonpauth-google"]||[]).push([[0],{24:function(e,t,a){},26:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(18),r=a.n(n),o=(a(24),a(5)),l=a.n(o),i=a(19),d=a(9),j=a(3),u=a.p+"static/media/logo.fbeef7d5.png",b=(a(26),a(7)),m=a.n(b),h=a(0),O=new URL(window.location);m.a.defaults.baseURL="localhost"===O.hostname?"http://192.168.0.10:3000/dev":"https://mkcr9bfn2i.execute-api.sa-east-1.amazonaws.com/dev";var p=function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),r=Object(j.a)(n,2),o=r[0],b=r[1],O=Object(c.useState)(!1),p=Object(j.a)(O,2),x=p[0],g=p[1],v=Object(c.useState)(!1),f=Object(j.a)(v,2),N=f[0],w=f[1],S=Object(c.useState)(null),k=Object(j.a)(S,2),C=k[0],y=k[1],E=Object(c.useState)(null),_=Object(j.a)(E,2),q=(_[0],_[1]),F=Object(c.useState)({}),B=Object(j.a)(F,2),L=(B[0],B[1]),P=Object(c.useState)([]),R=Object(j.a)(P,2),G=R[0],I=R[1],U=Object(c.useState)(null),z=Object(j.a)(U,2),A=z[0],J=z[1],T=function(){var e=Object(d.a)(l.a.mark((function e(t){var c,s,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==a){e.next=4;break}return alert("Email obritgat\xf3rio"),e.abrupt("return");case 4:if(""!==o){e.next=7;break}return alert("Senha obrigat\xf3ria"),e.abrupt("return");case 7:return g(!0),e.next=10,m.a.post("auth/login",{email:a,senha:o});case 10:return c=e.sent,s=c.data.data,e.next=14,m.a.get("home?owner=".concat(s.user._id));case 14:n=e.sent,console.log(n.data.data),I(Object(i.a)(n.data.data)),y(s.token),L(s.user),w(!0),g(!1),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(0),g(!1),e.t0.response?alert(e.t0.response.data.message):alert(e.t0.message),console.log(e.t0.response);case 28:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"bluedevx"===(t=new URLSearchParams(window.location.search)).get("client_id")){e.next=5;break}return alert("Integra\xe7\xe3o incorreta"),e.abrupt("return");case 5:A||alert("Selecione uma casa!"),a="".concat(C,"|").concat(A),window.location.replace("".concat(t.get("redirect_uri"),"?code=").concat(a,"&state=").concat(t.get("state"))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.message),console.log(e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){}),[]),Object(h.jsxs)("div",{className:"form",children:[x&&Object(h.jsx)("div",{className:"loading",children:Object(h.jsx)("div",{className:"loading-rotulo text-white",children:Object(h.jsx)("div",{className:"load-wrapp",children:Object(h.jsxs)("div",{className:"load-2",children:[Object(h.jsx)("p",{children:"Processando"}),Object(h.jsx)("div",{className:"line"}),Object(h.jsx)("div",{className:"line"}),Object(h.jsx)("div",{className:"line"})]})})})}),N&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("header",{className:"form-header",children:[Object(h.jsx)("img",{src:u,width:"70",className:"form-logo",alt:"logo"}),Object(h.jsxs)("p",{className:"pt-3",children:["Conectando Bluedevx ",Object(h.jsx)("br",{}),"com Google"]})]}),Object(h.jsxs)("div",{className:"form-body",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{children:"Escolha a casa que deve ser vinculada"}),Object(h.jsxs)("select",{className:"form-control",onChange:function(e){console.log(e.target.value),J(e.target.value)},children:[Object(h.jsx)("option",{value:"",children:"==Selecione na lista=="}),0!==G.length&&G.map((function(e){return Object(h.jsx)("option",{value:e._id,children:e.nome},e._id)}))]})]}),Object(h.jsx)("p",{children:"O Google solicita acesso \xe0 sua conta na Bluedevx e ao mapa de dispositivos que voc\xea possui. Assim voc\xea ter\xe1 a possibilidade de acess\xe1-los atrav\xe9s dos comandos de voz e outros recursos."}),Object(h.jsx)("div",{className:"my-4 text-small",children:Object(h.jsxs)("p",{children:["Revise as ",Object(h.jsx)("a",{target:"_blank",href:"http://policies.google.com/",children:"pol\xedticas de privacidade do Google"}),". ",Object(h.jsx)("br",{}),"Se voc\xea deseja desvincular sua conta, ",Object(h.jsx)("a",{target:"_blank",href:"https://myaccount.google.com/",children:"clique aqui"}),"."]})}),Object(h.jsxs)("div",{className:"form-group d-flex flex-row justify-content-between",children:[Object(h.jsx)("button",{className:"btn btn-light",onClick:function(){L(null),w(!1),q(null),y(null),s(""),b("")},children:"Cancelar"}),Object(h.jsx)("button",{className:"btn btn-success",onClick:D,children:"Aceitar e conectar"})]})]})]}),!N&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("header",{className:"form-header text-center",children:[Object(h.jsx)("img",{src:u,width:"70",className:"form-logo",alt:"logo"}),Object(h.jsxs)("p",{className:"p-10",children:["Entre com sua ",Object(h.jsx)("br",{}),"conta Bluedevx"]})]}),Object(h.jsxs)("div",{className:"form-body",children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"label",children:"E-mail de Cadastro"}),Object(h.jsx)("input",{className:"form-control",value:a,onChange:function(e){s(e.target.value)},name:"email",type:"email",required:!0,placeholder:"E-mail"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{className:"label",children:"Senha"}),Object(h.jsx)("input",{className:"form-control",value:o,onChange:function(e){b(e.target.value)},type:"password",name:"senha",required:!0,placeholder:"**********"})]}),Object(h.jsx)("div",{className:"form-group",children:Object(h.jsx)("button",{className:"btn btn-theme",onClick:T,children:"Entrar"})})]})]})]})},x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,47)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root")),x()}},[[46,1,2]]]);
//# sourceMappingURL=main.365a390d.chunk.js.map